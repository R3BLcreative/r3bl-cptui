!function($){"use strict";$.fn.iconPicker=function(){return this.each(async function(){var postData,offsetTop,offsetLeft,version="5.15.4",token=(await function(APItoken){return $.ajax({url:"https://api.fontawesome.com/token",type:"post",dataType:"json",headers:{Authorization:"Bearer "+APItoken}})}((postData={action:"r3blcptui_getAPItoken",nonce:$("#_wp_nonce_r3blcptui_validate").val()},await $.ajax({url:r3blcptui_object.ajax_url,type:"post",data:postData})).data)).access_token,icons=(await async function(token){return $.ajax({url:"https://api.fontawesome.com",headers:{Authorization:"Bearer "+token},contentType:"application/json",dataType:"json",data:{query:'query{release(version: "'+version+'"){icons{id label styles unicode}}}'}})}(token)).data.release.icons,allIcons=icons,button=$(this);function removePopup(){$(".icon-picker-container").remove(),$(document).off(".iconPicker")}button.on("click.iconPicker",function(e){offsetTop=$(e.currentTarget).offset().top,offsetLeft=$(e.currentTarget).offset().left,function(control){var i,target=control.data("target"),preview=$(control.data("preview")),popup=$('<div class="icon-picker-container"><div class="icon-picker-control"></div><div class="icon-picker-list"></div></div>').css({top:offsetTop+40,left:offsetLeft}),list=popup.find(".icon-picker-list");for(i in icons){var label,unicode,id,styles,style;icons.hasOwnProperty(i)&&(label=icons[i].label,unicode=icons[i].unicode,id=icons[i].id,styles=icons[i].styles,style="brands"==styles?"fab":"far",list.append('<div class="icon-picker-icon" data-icon="'+label+'"><a href="#" data-id="'+id+'" data-unicode="'+unicode+'" data-label="'+label+'" data-styles="'+styles+'" title="'+unicode+'"><i class="'+style+" fa-"+id+'"></i></a></div>'))}$("a",list).on("click",function(style){style.preventDefault();var id=$(this).data("id"),unicode=$(this).data("unicode"),label=$(this).data("label"),styles=$(this).data("styles"),style="brands"==styles?"fab":"far";$(target+"_id").val(id),$(target+"_unicode").val(unicode),$(target+"_label").val(label),$(target+"_styles").val(styles),$(target+"_style").val(style+" fa-"+id),preview.addClass(style).addClass("fa-"+id),removePopup()});control=popup.find(".icon-picker-control");control.html('<a data-direction="back" href="#"><span class="far fa-angle-left"></span></a><input type="text" class="" placeholder="Search" /><a data-direction="forward" href="#"><span class="far fa-angle-right"></span></a>'),$("a",control).on("click",function(e){e.preventDefault(),"back"===$(this).data("direction")?$("div:gt("+(icons.length-31)+")",list).prependTo(list):$("div:lt(30)",list).appendTo(list)}),popup.appendTo("body").show(),$("input",control).on("keyup",async function(e){var i,label,unicode,id,styles,search=$(this).val();for(i in icons=""===search?allIcons:(await async function(token,s){return $.ajax({url:"https://api.fontawesome.com",headers:{Authorization:"Bearer "+token},contentType:"application/json",dataType:"json",data:{query:'query{search(version: "'+version+'", query: "'+s+'", first: 150){id label styles unicode}}'}})}(token,search)).data.search,list.html(""),icons)icons.hasOwnProperty(i)&&(label=icons[i].label,unicode=icons[i].unicode,id=icons[i].id,styles=icons[i].styles,list.append('<div class="icon-picker-icon" data-icon="'+label+'"><a href="#" data-id="'+id+'" data-unicode="'+unicode+'" data-label="'+label+'" data-styles="'+styles+'" title="'+unicode+'"><i class="'+("brands"==styles?"fab":"far")+" fa-"+id+'"></i></a></div>'))}),$(document).on("mouseup.iconPicker",function(e){popup.is(e.target)||0!==popup.has(e.target).length||removePopup()})}(button)})})},$(function(){$(".iconPicker").iconPicker()})}(jQuery);