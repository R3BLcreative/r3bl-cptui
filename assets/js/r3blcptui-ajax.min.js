!function($){$("#r3blcptui-form").on("submit",function(formData){formData.preventDefault();var theform=$(this);$("#r3blcptui-submit").prop("disabled",!0),$(".wrap").removeClass("r3blcptui-fld-error");var taxs=[];$(".repeat-field-group").each(function(){var inputs=[];$(this).find("input").each(function(){var val=$(this).attr("type"),id=$(this).attr("id"),val="text"==val?$(this).val():$(this).prop("checked");inputs.push({[id]:val})}),taxs.push(inputs)});formData={action:"r3blcptui_validate",nonce:$("#_wp_nonce_r3blcptui_validate").val(),page:$("#admin_page").val(),id:$("#cpt_id").val(),title:$("#admin_title").val(),slug:$("#cpt_slug").val(),singular:$("#cpt_singular").val(),plural:$("#cpt_plural").val(),position:$("#cpt_position").val(),icon:$("#cpt_icon").val(),hierarchical:$("#cpt_hierarchical").prop("checked"),search:$("#cpt_search").prop("checked"),archive:$("#cpt_archive").prop("checked"),public:$("#cpt_public").prop("checked"),taxonomies:taxs};$.ajax({url:r3blcptui_object.ajax_url,type:"post",data:formData}).done(function(redirect){var page=$("#admin_page").val(),action=theform.prop("action"),redirect="edit"==page?action:redirect.data.redirect;window.location.replace(redirect)}).fail(function(errField){var errTxt=errField.responseJSON.data.txt,errField=errField.responseJSON.data.field,notice='<div class="notice notice-error"><h3>Your submission has errors:</h3><ul class="error-list">';errTxt.forEach(txt=>{notice=notice+"<li>"+txt+"</li>"}),notice+="</ul></div>",$("#r3blcptui-notifications").html(notice),errField.forEach(field=>{$("#"+field).parents(".wrap").addClass("r3blcptui-fld-error")})}).always(function(r){$("body, html").animate({scrollTop:0},"fast"),$("#r3blcptui-submit").prop("disabled",!1)})}),$("#r3blcptui-form").on("blur",".validate-slug",function(e){var slugData={action:"r3blcptui_validate_inline",nonce:$("#_wp_nonce_r3blcptui_validate_inline").val(),type:$(this).data("type"),validate:$(this).data("validate"),slug:$(this).val(),page:$("#admin_page").val()},thisFld=$(this);$.ajax({url:r3blcptui_object.ajax_url,type:"post",data:slugData}).done(function(r){thisFld.parents(".wrap").removeClass("r3blcptui-fld-error"),thisFld.siblings(".slug-notifications").removeClass("notice notice-error"),thisFld.siblings(".slug-notifications").html("")}).fail(function(errs){var errs=errs.responseJSON.data,notice="";errs.forEach(txt=>{notice=notice+txt+"</br>"}),thisFld.parents(".wrap").addClass("r3blcptui-fld-error"),thisFld.siblings(".slug-notifications").addClass("notice notice-error"),thisFld.siblings(".slug-notifications").html(notice)}).always(function(r){})})}(jQuery);